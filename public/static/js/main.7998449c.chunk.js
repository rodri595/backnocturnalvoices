(this.webpackJsonpaudioshare=this.webpackJsonpaudioshare||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(19),i=n.n(o),a=n(28),s=n(7),u=n(26),l=n(46),d=n(1),j=function(e){var t=e.component,n=Object(l.a)(e,["component"]);return Object(d.jsx)(s.b,Object(u.a)(Object(u.a)({},n),{},{component:function(e){return Object(d.jsx)(t,Object(u.a)({},e))}}))},h=n(9),p=n.n(h),b=n(14),m=n(5),f=function(e){var t=e.isDarkMode,n=e.navbar,c=e.children;return Object(d.jsxs)("body",{"data-theme":t?"dark":"light",children:[n,Object(d.jsx)("main",{children:Object(d.jsx)("div",{className:"overflow-hidden position-relative",style:{minHeight:"100vh"},children:c})})]})},O=n.p+"static/media/logo.6dd7203e.png",x=n(41),v=n.n(x).a.create();v.defaults.headers.common["cache-control"]="no-cache",v.defaults.headers.post["Content-Type"]="no-cache",v.defaults.headers.put["Content-Type"]="no-cache";var g=v,y=function(){var e=Object(b.a)(p.a.mark((function e(t,n,c,r,o,i){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/api/voicenote/add",{city:t,country_name:n,latitude:c,longitude:r,title:o,audio:i});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,c,r,o,i){return e.apply(this,arguments)}}(),C=n(17),w=n.n(C),N=function(e){var t=e.audioimportOpen,n=e.coords,r=e.country_name,o=e.city_name,i=Object(c.useState)(),a=Object(m.a)(i,2),s=a[0],u=a[1],l=Object(c.useState)(""),j=Object(m.a)(l,2),h=j[0],f=j[1],x=function(e){if(console.log(e.target.name),"istitle"===e.target.name&&f(e.target.value),"isaudio"===e.target.name&&0!==e.target.files.length){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){Math.round(t.size/1e3)<=15e3?(u(n.result),""===h&&f(t.name)):(u(),w.a.fire({icon:"error",html:'<div class="voicenote-save">Audio size is too big</div>',toast:!0,position:"top",timer:1e3,timerProgressBar:!1,showConfirmButton:!1}))}}},v=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(s),void 0===s){e.next=7;break}return e.next=4,y(o,r,n[0],n[1],h,s);case 4:t=e.sent,console.log(t),"VALID"===t.status&&w.a.fire({icon:"success",html:'<div class="voicenote-save">Audio was added</div>',toast:!0,position:"top",timer:1e3,timerProgressBar:!1,showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:t?"audioimportOpen":"audioimportClose",children:Object(d.jsx)("div",{style:{padding:"10px"},children:Object(d.jsx)("div",{className:"container ",children:Object(d.jsxs)("div",{className:"text-center",style:{transform:"translateY(-35px)"},children:[Object(d.jsx)("img",{src:O,alt:"Logo for Nocturnal Voices",style:{height:"50px"}}),Object(d.jsx)("div",{style:{fontSize:"15px",fontWeight:"bolder",color:"#495fef"},children:"Whats on your mind?"}),Object(d.jsx)("input",{type:"text",name:"istitle",onChange:function(e){return x(e)}}),Object(d.jsx)("input",{type:"file",name:"isaudio",accept:"audio/*",onChange:function(e){return x(e)}}),Object(d.jsx)("button",{onClick:function(){return v()}})]})})})})},k=n(87),S=n(88),z=n(89),L=n(47),T=(n(77),function(e){var t=e.cityHandler,n=e.countryHandler,r=e.children,o=e.setcoords,i=e.setcountry_name,a=e.setcity_name,s=Object(c.useRef)();Object(c.useEffect)((function(){u()}),[]);var u=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ipapi.co/json").then((function(e){return e.json()})).then((function(e){t(e.city),n(e.country_name),i(e.country_name),a(e.city);var c=s.current,r=(void 0===c?{}:c).leafletElement;o([e.latitude,e.longitude]),r.flyTo([e.latitude,e.longitude],4,{duration:1})}));case 2:void 0===e.sent&&navigator.geolocation.getCurrentPosition((function(e){var t=s.current,n=(void 0===t?{}:t).leafletElement;o([e.coords.latitude,e.coords.longitude]),n.flyTo([e.coords.latitude,e.coords.longitude],8,{duration:4})}),(function(){alert("ACTIVE GPS AND ALLOW TRACKING FOR MAP COORDS")}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(k.a,{style:{backgroundColor:"rgb(38,38,38)"},ref:s,center:[0,0],zoom:2,maxZoom:19,minZoom:2,bounceAtZoomLimits:!0,maxBoundsViscosity:.95,zoomControl:!1,maxBounds:[[-90,-180],[90,180]],children:[Object(d.jsx)(S.a,{position:"topright"}),Object(d.jsx)(z.a,{noWrap:!0,url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),Object(d.jsx)(L.a,{fillColor:"#00345c",color:"#495fef"}),r]})}),A=function(){return Object(d.jsx)("div",{className:"footer-rod-container",children:Object(d.jsx)("div",{className:"footer-rod ",children:Object(d.jsxs)("div",{children:["MADE WITH LOVE BY"," ",Object(d.jsx)("a",{href:"https://erazo.netlify.app/",rel:"noreferrer",target:"_blank",children:"RODRI."})]})})})},E=n(86),_=n(90),B=function(e){var t=e.data,n=e.audioClick;return 0!==t.lenght&&t.map((function(e){return Object(d.jsx)(E.a,{className:e.new?"new-user-onmap":"",onclick:function(){return n(e)},center:e.coords,radius:2,fillColor:e.new?"":"#495fef",color:e.new?"":"#495fef",children:Object(d.jsx)(_.a,{children:e.title})},e._id)}))},I=function(e){var t=e.openrulez,n=e.setopenrulez;return Object(d.jsx)("div",{className:"darulez-rod-container",children:Object(d.jsx)("div",{onClick:function(){return n((function(e){return!e}))},className:"media-icon ".concat(t?"darulez-open-icon":"darulez-close-icon",' media-icon"'),children:Object(d.jsx)("span",{children:"\ud83d\udc46"})})})},M=function(e){var t=e.menuOpen,n=e.setmenuOpen;return Object(d.jsx)("div",{onClick:function(){return n((function(e){return!e}))},className:"media-icon ".concat(t?"audio-player-icon-open":"audio-player-icon-close",' media-icon"'),children:Object(d.jsx)("span",{children:"\u2192"})})},H=n(43),P=n.n(H),R=function(e){var t=e.voicenoteFile,n=e.audioTitle,r=e.cityName,o=e.countryName,i=e.audioimportOpen,a=e.audioimportOpenHandler,s=e.openrulez,u=e.setopenrulez,l=e.isplayerHnadler,j=e.menuOpen,h=e.setmenuOpen,p=Object(c.useState)(!0),b=Object(m.a)(p,2),f=b[0],O=b[1],x=Object(c.useState)(!1),v=Object(m.a)(x,2),g=v[0],y=v[1],C=Object(c.useRef)();Object(c.useEffect)((function(){f?O(!1):(y(!1),h(!0))}),[t]);var N=function(){C.current.paused&&C.current.currentTime>=0&&!C.current.started?(C.current.play(),y(!0)):(y(!1),C.current.pause())};return Object(c.useEffect)((function(){!j&&i&&a(!1)}),[j]),Object(c.useEffect)((function(){i&&s&&u(!1)}),[i]),Object(c.useEffect)((function(){i&&s&&a(!1)}),[s]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:j?"audio-player-open":"audio-player-close",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("audio",{ref:C,src:t}),Object(d.jsxs)("div",{style:{display:"flex",padding:"5px 5px"},children:[Object(d.jsxs)("div",{className:"audio-player-top",children:[Object(d.jsx)("div",{className:"marquee-audio-title",children:Object(d.jsx)(P.a,{direction:"left",delay:3e3,scrollWhen:"overflow",children:n})}),Object(d.jsxs)("div",{className:"audio-subtitle",children:[r,", ",o]})]}),Object(d.jsx)("div",{className:"media-icon",style:{fontSize:"25px",width:"25px",height:"25px"},onClick:function(){return a((function(e){return!e}))},children:Object(d.jsx)("span",{className:i?"audioimportCloseIcon":"audioimportOpenIcon",children:"+"})})]}),Object(d.jsxs)("div",{style:{display:"flex",padding:"0 5px"},children:[Object(d.jsxs)("div",{style:{display:"flex",backgroundColor:"",fill:"white",width:"150px"},children:[Object(d.jsx)("div",{className:"media-icon",onClick:function(){return l("<-")},children:Object(d.jsx)("svg",{height:"100%",width:"100%",children:Object(d.jsx)("path",{d:"M23.4529819,24.1553906 L34.4647654,17.1779273 C34.9312823,16.8823254 35.5491016,17.0208793 35.8447035,17.4873962 C35.9461427,17.6474869 36,17.8331078 36,18.0226308 L36,31.9775574 C36,32.5298421 35.5522847,32.9775574 35,32.9775574 C34.810477,32.9775574 34.6248561,32.9237001 34.4647654,32.8222608 L23.4529819,25.8447975 C22.986465,25.5491956 22.8479111,24.9313763 23.143513,24.4648595 C23.2225535,24.3401182 23.3282406,24.2344311 23.4529819,24.1553906 Z M10.3329444,24.153178 L21.4605722,17.1668243 C21.9283111,16.8731598 22.5455504,17.0142749 22.8392149,17.4820138 C22.9392394,17.6413295 22.9922988,17.8256276 22.9922988,18.0137404 L22.9922988,31.9864478 C22.9922988,32.5387325 22.5445835,32.9864478 21.9922988,32.9864478 C21.8041861,32.9864478 21.6198879,32.9333884 21.4605722,32.8333639 L10.3329444,25.8470101 C9.86520561,25.5533457 9.72409045,24.9361063 10.0177549,24.4683675 C10.097766,24.3409285 10.2055055,24.2331891 10.3329444,24.153178 Z"})})}),g?Object(d.jsx)("div",{className:"media-icon",onClick:function(){return N()},children:Object(d.jsx)("svg",{width:"50",height:"50",children:Object(d.jsx)("rect",{width:"18",height:"18",x:"16",y:"16",rx:"1"})})}):Object(d.jsx)("div",{className:"media-icon",onClick:function(){void 0===t?(h(!1),w.a.fire({icon:"error",html:'<div class="voicenote-save">Please Search An Audio</div>',toast:!0,position:"top",timer:1e3,timerProgressBar:!1,showConfirmButton:!1})):N()},children:Object(d.jsx)("svg",{height:"100%",width:"100%",children:Object(d.jsx)("path",{d:"M35.6613092,25.8454889 L19.533993,36.0311623 C19.0670424,36.3260785 18.4494273,36.186617 18.1545111,35.7196664 C18.0535739,35.5598493 18,35.3746968 18,35.1856734 L18,14.8143266 C18,14.2620418 18.4477153,13.8143266 19,13.8143266 C19.1890234,13.8143266 19.3741758,13.8679005 19.533993,13.9688377 L35.6613092,24.1545111 C36.1282599,24.4494273 36.2677213,25.0670424 35.9728051,25.533993 C35.8934185,25.6596886 35.7870048,25.7661022 35.6613092,25.8454889 Z"})})}),Object(d.jsx)("div",{className:"media-icon",onClick:function(){return l("->")},children:Object(d.jsx)("svg",{height:"100%",width:"100%",children:Object(d.jsx)("path",{d:"M26.5470181,25.8310572 L15.5352346,32.8085205 C15.0687177,33.1041224 14.4508984,32.9655684 14.1552965,32.4990516 C14.0538573,32.3389609 14,32.15334 14,31.963817 L14,18.0088904 C14,17.4566057 14.4477153,17.0088904 15,17.0088904 C15.189523,17.0088904 15.3751439,17.0627477 15.5352346,17.1641869 L26.5470181,24.1416502 C27.013535,24.4372521 27.1520889,25.0550715 26.856487,25.5215883 C26.7774465,25.6463295 26.6717594,25.7520166 26.5470181,25.8310572 Z M39.6670556,25.8332698 L28.5394278,32.8196235 C28.0716889,33.113288 27.4544496,32.9721728 27.1607851,32.504434 C27.0607606,32.3451183 27.0077012,32.1608201 27.0077012,31.9727074 L27.0077012,18 C27.0077012,17.4477153 27.4554165,17 28.0077012,17 C28.1958139,17 28.3801121,17.0530594 28.5394278,17.1530839 L39.6670556,24.1394376 C40.1347944,24.4331021 40.2759095,25.0503414 39.9822451,25.5180803 C39.902234,25.6455193 39.7944945,25.7532587 39.6670556,25.8332698 Z"})})})]}),Object(d.jsx)("div",{style:{backgroundColor:"",width:"150px"},children:Object(d.jsx)("input",{className:"volumeSlider",style:{width:"125px",paddingTop:"20px",paddingLeft:"10px"},type:"range",max:"1.0",min:"0.0",step:"0.1",onChange:function(e){return function(e){C.current.volume=e.target.value}(e)}})}),Object(d.jsx)("div",{className:"media-icon",style:{backgroundColor:"",fontSize:"25px",width:"25px",transform:"translateX(-3px)"},children:"..."})," "]})]})})})},W=function(e){var t=e.openrulez,n=e.setopenrulez;return Object(d.jsx)("div",{className:t?"darulez-open ":" darulez-close",children:Object(d.jsx)("div",{style:{padding:"20px"},children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{onClick:function(){return n(!1)},className:"media-icon",style:{position:"absolute",fontSize:"25px",fontWeight:"bolder",color:"#495fef",top:"10px",right:"20px",zIndex:"1000"},children:Object(d.jsx)("span",{style:{transform:"rotate(45deg)"},children:"+"})}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("div",{style:{fontSize:"20px",fontWeight:"bolder",color:"white"},children:"WELCOME TO THE NOCTURNAL VOICES"}),Object(d.jsx)("div",{className:"rule-questions",style:{marginTop:"20px"},children:"What do you love about the night? OR what do you miss about the day?"}),Object(d.jsx)("div",{className:"rule-questions",children:"You see a world that other people have not seen before, what is something that you want people to know about working night shifts? *"}),Object(d.jsx)("div",{className:"rule-description ",style:{marginTop:"35px"},children:"Rules for submission:"}),Object(d.jsx)("div",{className:"rule-description ",children:"1) A clear mp3 file of your voice. Background noise is okay, please make sure to hold your phone microphone close to your mouth."}),Object(d.jsx)("div",{className:"rule-description ",children:"2) People who submit voice messages are those who work between the times 6pm - 6am. All time zones, any job, any hours, anywhere."}),Object(d.jsx)("div",{className:"rule-description ",children:"3) Type out the time the voice message was recorded, and the city & country you are from."}),Object(d.jsx)("div",{className:"rule-description ",children:"*London Night Time Commission says that night shifts are people who work between 6pm - 6am."})]})]})})})},D=n(45),F=n(44),Z=n.p+"static/media/switchon.88d10ee7.mp3",V=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/voicenote/getallbydate",e.prev=1,e.next=4,g.get("/api/voicenote/getallbydate");case 4:return t=e.sent,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.useState)(0),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),i=Object(m.a)(o,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){var e;return e=setInterval((function(){r((function(e){return e+1}));var e=(new Date).toUTCString().split("GMT");s("".concat(e," UTC"))}),1e3),function(){return clearInterval(e)}}),[n]),Object(d.jsx)("div",{className:"time-footer",children:a})},q=function(){var e=Object(c.useState)(!0),t=Object(m.a)(e,2),n=t[0],r=(t[1],Object(c.useState)(!1)),o=Object(m.a)(r,2),i=o[0],a=o[1],s=Object(c.useState)([0,0]),u=Object(m.a)(s,2),l=u[0],j=u[1],h=Object(c.useState)(""),O=Object(m.a)(h,2),x=O[0],v=O[1],g=Object(c.useState)(""),y=Object(m.a)(g,2),C=y[0],w=y[1],k=Object(c.useState)(!0),S=Object(m.a)(k,2),z=S[0],L=S[1],E=Object(c.useState)(!1),_=Object(m.a)(E,2),H=_[0],P=_[1],q=Object(c.useState)([]),G=Object(m.a)(q,2),Y=G[0],J=G[1],K=Object(c.useState)([]),X=Object(m.a)(K,2),$=X[0],Q=X[1],ee=Object(c.useState)("Planet"),te=Object(m.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)("Earth"),oe=Object(m.a)(re,2),ie=oe[0],ae=oe[1],se=Object(c.useState)(),ue=Object(m.a)(se,2),le=ue[0],de=ue[1],je=Object(c.useState)(""),he=Object(m.a)(je,2),pe=he[0],be=he[1],me=Object(c.useState)(!0),fe=Object(m.a)(me,2),Oe=fe[0],xe=fe[1],ve=Object(F.a)(Z,{volume:.5}),ge=Object(m.a)(ve,1)[0];Object(c.useEffect)((function(){var e;return e=setInterval((function(){Ce()}),5e3),function(){return clearInterval(e)}}),[Y]);Object(c.useEffect)((function(){Oe?xe(!1):ye()}),[$]);var ye=function(){de($.base64audio),be($.title),ce($.city),ae($.country)},Ce=function(){0===Y.length?we():Ne()},we=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,J(t.data.markers);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,Y.length!==t.data.markers.length&&(t.data.markers.filter((function(e,t){void 0===Y[t]&&(e.new=!0)})),J(t.data.markers),ge(),D.a.fire({icon:"success",html:'<div class="voicenote-save">New Audio</div>',toast:!0,position:"top-end",timer:1e3,timerProgressBar:!1,showConfirmButton:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(f,{isDarkMode:n,children:[Object(d.jsx)(M,{menuOpen:H,setmenuOpen:P}),Object(d.jsx)(R,{audioTitle:pe,cityName:ne,countryName:ie,audioimportOpen:i,audioimportOpenHandler:a,voicenoteFile:le,openrulez:z,setopenrulez:L,isplayerHnadler:function(e){"->"===e?Y.map((function(e,t){$._id===e._id&&(Y.length-1===t?Q(Y[0]):Q(Y[t+1]))})):Y.map((function(e,t){$._id===e._id&&Q(0===t?Y[Y.length-1]:Y[t-1])}))},menuOpen:H,setmenuOpen:P}),Object(d.jsx)(T,{cityHandler:ce,countryHandler:ae,userAudios:Y,setcoords:j,setcountry_name:v,setcity_name:w,children:Object(d.jsx)(B,{data:Y,audioClick:Q})}),Object(d.jsx)(N,{audioimportOpen:i,coords:l,country_name:x,city_name:C}),Object(d.jsx)(A,{}),Object(d.jsx)(I,{openrulez:z,setopenrulez:L}),Object(d.jsx)(W,{setopenrulez:L,openrulez:z}),Object(d.jsx)(U,{})]})},G=function(){return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-xs-2",children:"hola"}),Object(d.jsx)("div",{className:"col-xs-10",children:"hello"})]})})},Y=function(){return Object(d.jsx)("div",{children:"not found"})},J=function(){return Object(d.jsx)(a.a,{children:Object(d.jsxs)(s.d,{children:[Object(d.jsx)(j,{path:"/notfound",component:Y}),Object(d.jsx)(j,{path:"/",component:q,exact:!0}),Object(d.jsx)(j,{path:"/archive",component:G,exact:!0}),Object(d.jsx)(s.a,{to:"/notfound"})]})})};n(80),n(81),n(82),n(83),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),K()}},[[84,1,2]]]);
//# sourceMappingURL=main.7998449c.chunk.js.map